/* ====== 베이스 / 토큰 ====== */
* { box-sizing: border-box; }
html { font-size: clamp(14px, 1.2vw, 16px); }
body {
  margin: 0;
  font-family: "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", sans-serif;
  color: var(--fg);
  background: var(--bg);
  line-height: 1.5;
}

:root{
  /* 색상 (로그인 페이지와 톤 맞춤) */
  --bg: #0b0f14;
  --fg: #eef2f7;
  --muted: #cbd5e1;
  --surface: rgba(255,255,255,0.06);
  --surface-strong: rgba(255,255,255,0.12);
  --primary: #239b67; /* 필요시 #1F9461로 교체 가능 */

  --border: rgba(255,255,255,0.18);
  --shadow-1: 0 1px 2px rgba(0,0,0,.12);
  --shadow-2: 0 10px 30px rgba(0,0,0,.35);

  /* 간격 (Figma 1920 → 1440 축소 0.75, px→rem 환산 계수 ~0.046875) */
  --space-8: 0.375rem;    /* 8px */
  --space-12: 0.563rem;   /* 12px */
  --space-16: 0.750rem;   /* 16px */
  --space-20: 0.938rem;   /* 20px */
  --space-24: 1.125rem;   /* 24px */
  --space-28: 1.313rem;   /* 28px */
  --space-32: 1.500rem;   /* 32px */
  --space-40: 1.875rem;   /* 40px */
  --radius-10: 0.625rem;  /* 10px */
  --radius-20: 1.250rem;  /* 20px */

  /* 레이아웃 */
  --container-max: 90rem;
  --gutter: var(--space-24);
  --header-h: 3.5rem;
}

/* ====== 공통 레이아웃 ====== */
.container{
  max-width: var(--container-max);
  margin-inline: auto;
  padding-inline: var(--gutter);
}
.section{ padding-block: clamp(2rem, 5vw, 4rem); }

/* ====== 배경 ====== */
.page-bg{
  position: fixed;
  inset: 0;
  background-image: url("https://arrrbang.github.io/pumex/image/costbackground.jpg");
  background-size: cover;
  background-position: center;
  filter: saturate(1) brightness(.9);
  z-index: -2;
}

.page-bg::after{
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.4); 
  z-index: -1;
}

/* ====== 상단 바 ====== */
.site-header{
  position: sticky;
  top: 0;
  background: rgba(0,0,0,0.7);
  border-bottom: 1px solid var(--border);
  z-index: 10;
}
.header-inner{
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  column-gap: var(--space-16);
  min-height: var(--header-h);
  padding-block: calc((var(--header-h) - 2.8rem)/2);
}
.site-header .container{
  max-width: none;
  width: 100%;
  margin-left: 0;
  margin-right: 0;
  padding-left: 0;
}

.brand { 
  display: inline-flex; 
  align-items: center; 
  justify-content: flex-start; 
}
.brand__logo{
  height: calc(var(--header-h) * 0.65); 
  width: auto;
  display: block;
  object-fit: contain;
  padding-left: 1rem;
  margin-right: 1rem;
}
.header__title{
  justify-self: start;
  margin: 0;
  font-weight: 700;
  letter-spacing: .02em;
  color: #fff;
  text-decoration: none;
  font-size: clamp(1rem, 1.8vw, 1.25rem);
}
.header__title:hover{ text-decoration: underline; }
.header__nav{
  justify-self: end;
  display: inline-flex;
  gap: var(--space-16);
}
/* ====== 탭 ====== */
.tabs {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  margin-top: 0.5rem;
}

.tab {
  min-width: 13rem;
  padding: 0.5rem 1.5rem;
  border: 2px solid #1F9461;
  border-radius: 2rem;
  background: transparent;
  color: #1F9461;
  font-size: 1.5rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.25s ease;
}

/* ===== Hover 효과 ===== */
.tab:hover {
  background: rgba(31,148,97,0.12);
}

.tab.is-active {
  background: #1F9461;
  color: #fff;
  box-shadow: 0 4px 10px rgba(31,148,97,0.35);
}

/* ====== 드롭다운 패널 ====== */
.dropdown-container {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 0rem;
  position: relative;
}

#countrySelect {
  margin-bottom: 1.5rem; /* 국가 선택과 지역 선택 사이 간격 */
}

.dropdown{
  text-align: center;
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transform: translateY(-10px);
  transition:
    max-height .45s ease,
    opacity .45s ease,
    transform .45s ease;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 28rem;
  background: rgba(255, 255, 255, 0.75);
  border-radius: 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  backdrop-filter: blur(8px);
  padding: 0;
  margin: 0;
}

.dropdown.show{
  opacity: 1;
  transform: translateY(0);
  max-height: 1000px;
}

.dropdown-inner{
  padding: 1rem 1.2rem;                /* 패딩은 여기로 */
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity .35s ease, transform .35s ease;
  will-change: opacity, transform;
}

.dropdown-label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.25rem;
}

.dropdown.show .dropdown-inner{
  opacity: 1;
  transform: translateY(0);
}

.dropdown-label,
.dropdown-label-row .label-text {
  font-weight: 600;
  color: #1F9461;
  font-size: 1rem;
}

.map-button-inline {
  background: #1F9461;
  color: #fff;
  font-weight: 600;
  font-size: 0.9rem;
  padding: 0.2rem 0.6rem;
  border: none;
  border-radius: 0.4rem;
  cursor: pointer;
  transition: background 0.25s ease, transform 0.1s ease;
  white-space: nowrap;
}

.map-button-inline:hover {
  background: #16724a;
}

.map-button-inline:active {
  transform: scale(0.97);
}

.dropdown-select {
  width: 100%;
  padding: 0.6rem 1rem;
  font-size: 1rem;
  border: 2px solid #1F9461;
  border-radius: 0.6rem;
  background: #fff;
  color: #333;
  font-family: inherit;
  cursor: pointer;
}


.region-row {
  display: flex;
  align-items: center;
  gap: 0.8rem; /* 둘 사이 간격 */
}

.selection-summary {
  text-align: center;
  font-weight: 700;
  color: #000;
  font-size: 1.4rem;
  margin-top: 0.5rem;
  margin-bottom: 0.8rem;
  opacity: 0;
  transform: translateY(-10px);
  transition: all 0.4s ease;
}

.selection-summary.show {
  opacity: 1;
  transform: translateY(0);
}

.next-dropdowns {
  text-align: center;
  opacity: 0;
  transform: translateY(-10px);
  max-height: 0;
  overflow: hidden;
  transition: all 0.5s ease;
}

.next-dropdowns.show {
  opacity: 1;
  transform: translateY(0);
  max-height: 1000px;
}

/* === 타이핑 가능한 콤보박스: 드롭다운과 동일한 외형 === */
.combo{
  position: relative;
  width: 100%;
}

.combo input{
  width: 100%;
  padding: 0.6rem 1rem;               /* .dropdown-select 와 동일 */
  font-size: 1rem;
  border: 2px solid #1F9461;          /* 동일 테두리 색 */
  border-radius: 0.6rem;              /* 동일 라운드 */
  background: #fff;
  color: var(--muted, #6b7280);
  font-family: inherit;
  outline: none;
  box-sizing: border-box;
}
.combo input::placeholder {
  color: var(--muted, #6b7280);
  opacity: 1;
}

/* 드롭다운 팝업 */
.combo .list{
  position: absolute;
  left: 0; right: 0;                   /* 폭 100%로 정렬 */
  top: calc(100% + 6px);
  z-index: 30;                         /* 패널 위로 */
  background: #fff;
  border: 2px solid #1F9461;           /* 동일 테두리 */
  border-radius: 0.6rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  max-height: 240px;
  overflow: auto;
  display: none;
}

/* 열렸을 때 표시 */
.combo.open .list{ display:block; }

/* 항목 */
.combo .item{
  padding: 0.55rem 0.8rem;
  cursor: pointer;
  line-height: 1.4;
}

/* 호버/선택 시 하이라이트 (드롭다운 톤과 유사) */
.combo .item:hover{ background: rgba(31,148,97,0.08); }
.combo .item.is-selected{ background: rgba(31,148,97,0.14); }

/* (선택) 스크롤바 톤 */
.combo .list::-webkit-scrollbar{ width: 8px; }
.combo .list::-webkit-scrollbar-thumb{
  background: rgba(31,148,97,0.35);
  border-radius: 8px;
}




/* 결과 섹션 여백 */
.result-section{ margin-top:8px; }

/* 리스트 전체 */
.cost-list{
  display:flex; flex-direction:column; gap:8px;
  font-family: "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, Apple SD Gothic Neo, sans-serif;
}

/* 한 줄(항목명 / 금액) — 표선 없이 두 열 정렬 */
.cost-item{
  display:grid; grid-template-columns: 1fr auto; align-items:baseline; gap:12px;
  line-height:1.5;
}

/* 항목명은 버튼(접근성/토글). 기본 스타일 제거 */
.cost-item__name{
  appearance:none; background:none; border:none; padding:0; margin:0;
  text-align:left; cursor:pointer; font:inherit;
}

/* 호버 시 살짝 강조 */
.cost-item__name:hover{ text-decoration:underline; }

/* 금액(오른쪽 정렬) */
.cost-item__amt{
  white-space:nowrap; text-align:right; font-variant-numeric: tabular-nums;
}

/* 상세 토글 박스 (접힘 기본) */
.cost-item__details{
  grid-column:1 / -1; overflow:hidden; max-height:0; opacity:0;
  transition:max-height .28s ease, opacity .2s ease;
  padding-left:0; margin-left:0;
}

/* 펼쳐진 상태 */
.cost-item[aria-expanded="true"] .cost-item__details{
  opacity:1; padding-top:6px; max-height:400px; /* 상세 내용 높이에 맞춰 충분히 크게 */
}

/* 상세 안의 라벨/값 */
.detail-row{
  display:grid; grid-template-columns: 1fr auto; gap:12px; padding:2px 0;
  font-size:.95rem; color:#4b5563; /* muted */
}

/* 섬세한 줄간 간격과 시각적 리듬 */
.cost-item + .cost-item{ margin-top:6px; }

@media (max-width: 1024px){
  .panel__cell{ grid-column: span 6; } /* 2열 */
}
@media (max-width: 640px){
  .panel__cell{ grid-column: span 12; } /* 1열 */
}

/* ====== 접근성 포커스 ====== */
:focus-visible{
  outline: 3px solid rgba(35,155,103,.35);
  outline-offset: 2px;
  border-radius: .5rem;
}
