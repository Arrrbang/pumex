/* ========================================================================== */
/* 0) í† í° (ìƒ‰/ê°„ê²©/ë ˆì´ì–´) â€” styles(22).css í†¤ ë§ì¶¤                         */
/* ========================================================================== */
:root{
  --bg: #0b0f14;                /* ë°°ê²½ ê¸°ë³¸ìƒ‰ (ì´ë¯¸ì§€ ë¡œë”© ì „) */
  --fg: #eef2f7;
  --muted: #cbd5e1;
  --btn-radius: 12px; /* ë²„íŠ¼ê³¼ ìš”ì•½ë°”ê°€ ê°™ì€ ë°˜ê²½ì„ ì“°ë„ë¡ ê¸°ë³¸ê°’ */

  --primary: #1F9461;
  --border: rgba(255,255,255,0.18);
  --surface: rgba(255,255,255,0.06);

  --header-h: 3rem;
  --container-max: 1200px;
  --gutter: 20px;

  --control-bg: #fff;
  --control-fg: #333;
  --control-border: #1F9461;
  --control-radius: .6rem;

  --table-header: #D1FAE5;
  --table-text:   #14532D;

  --shell-max: 75rem;     /* 1200px = 75rem */
  --gutter: 1.25rem;      /* ì¢Œìš° ì—¬ë°± & ê·¸ë¦¬ë“œ ê°„ê²© (ì›í•˜ë©´ 1rem~1.5rem ì¡°ì •) */
  --header-h: 3rem;       /* header ì‹¤ì œ ë†’ì´ì™€ ì¼ì¹˜ì‹œì¼œ ìœ ì§€ */
  
  /* INDEX.HTMLê³¼ ë™ì¼í•œ ë°°ê²½ ì´ë¯¸ì§€ ì ìš© */
  --bg-image-url: none;

  /* ë°ì€ ì˜¤ë²„ë ˆì´(= styles(22).css ëŠë‚Œ), ë¸”ëŸ¬ëŠ” í•„ìš” ì‹œ ì¡°ì ˆ */
  --bg-overlay: linear-gradient(180deg, rgba(255,255,255,.40), rgba(255,255,255,.40));
  --bg-blur: 0px;        /* 0~8px ì‚¬ì´ì—ì„œ í•„ìš” ì‹œë§Œ */
  --bg-darken: rgba(255,255,255,0);
}

/* ========================================================================== */
/* 1) ê¸°ë³¸ êµ¬ì¡° + í˜ì´ì§€ ë°°ê²½                                                  */
/* ========================================================================== */
*{ box-sizing: border-box; }
html{ font-size: clamp(14px, 1.2vw, 16px); }

body{
  padding-top: var(--header-h);  /* í—¤ë”ë§Œí¼ë§Œ ì •í™•íˆ ë‚´ë¦¬ê¸° */
  position: relative;
  background: #F2F5FA;
  min-height: calc(100dvh - var(--header-h));
}

/* ì „ì²´ ë°°ê²½ ì´ë¯¸ì§€/ì˜¤ë²„ë ˆì´ ë„ê¸° */
body::before{
  content: none !important;
  display: none !important;
  background: none !important;
  filter: none !important;
  transform: none !important;
}
body::after{
  content: none !important;
  display: none !important;
  background: none !important;
}

/* ê³µí†µ ì»¨í…Œì´ë„ˆ */
.container{ max-width: var(--container-max); margin: 0 auto; padding-inline: var(--gutter); }

/* ========================================================================== */
/* 2) ìƒë‹¨ í—¤ë” â€” styles(22).css í†¤ ë³µì œ                                       */
/* ========================================================================== */
.site-header{
  position: fixed; top:0; left:0; width:100%; z-index:999;
  background: #153A47 !important;
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(255,255,255,0.1);
  height: 3rem; /*ë†’ì´ ì§€ì •*/
  display: flex;
  align-items: center;
  text-align: left; /* ì¤‘ì•™ ì •ë ¬ ë°©ì§€ */
}

.site-header .logo img{
  height:2rem; 
  display:block; 
}

.site-header .container,
.site-header .header-inner {
  max-width: none;   /* ê¸°ì¡´ 1200px ê°™ì€ ì œí•œ í•´ì œ */
  width: 100%;       /* ê°€ë¡œ 100% ì±„ìš°ê¸° */
  margin: 0;         /* ì¤‘ì•™ì •ë ¬ í•´ì œ */
  padding-left: 3rem;/* ì¢Œì¸¡ ì—¬ë°± (ì›í•˜ë©´ ì¡°ì •) */
  padding-right: var(--gutter);
  box-sizing: border-box;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 12px;
}

.site-header .header-inner {
  display: flex;
  justify-content: flex-start;  /* ì¢Œì¸¡ ì •ë ¬ */
  align-items: center;          /* ì„¸ë¡œ ê°€ìš´ë° */
  gap: 12px;                    /* ë¡œê³ -íƒ€ì´í‹€ ê°„ê²© */
}

.site-title {
  font-size: 1.3rem;         /* ì¼ë°˜ í…ìŠ¤íŠ¸ ëŒ€ë¹„ */
  font-weight: 800;        /* ê°•í•œ ë³¼ë“œ */
  color: #ffffff;          /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
  letter-spacing: 0.02em;  /* ê¸€ì ê°„ê²© ì•½ê°„ ë„ì›€ */
  margin-left: 12px; /* ë¡œê³ ì™€ ì œëª© ì‚¬ì´ ê°„ê²© */
  white-space: nowrap;     /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
}

.nav-links a{
  color:#cbd5e1; margin-left:1rem; font-size:.95rem; text-decoration:none; transition: color .2s ease;
}
.nav-links a:hover{ color:#fff; }

/* ========================================================================== */
/* 3) ì•± ë ˆì´ì•„ì›ƒ: ì¢Œ(ì§€ë„) / ìš°(í¼)                                           */
/* ========================================================================== */
.app-shell{
  background: 
    linear-gradient(rgba(9, 33, 42, 0.8), rgba(9, 33, 42, 0.8)), /* 80% íˆ¬ëª… ì˜¤ë²„ë ˆì´ */
    url('https://arrrbang.github.io/pumex/image/costbackground.jpg') center/cover no-repeat; /* ë°°ê²½ ì´ë¯¸ì§€ */
  box-shadow: none !important;
  border: 1px solid rgba(0, 0, 0, 0.12); /*í…Œë‘ë¦¬ ìƒ‰ ë†’ì„ ìˆ˜ë¡ ì§„í•œ ìƒ‰*/
  backdrop-filter: blur(4px); /*í…Œë‘ë¦¬ ë¸”ëŸ¬íš¨ê³¼*/
  border-radius: 1rem;
  padding: 1rem;                    /* í…Œë‘ë¦¬ ì•ˆìª½ ì—¬ë°± */
  max-width: var(--shell-max); /* ê¸°ì¡´ ì»¨í…Œì´ë„ˆ í­ */
  width: 100%;      /* í•„ìš” ì‹œ */
  margin: 1.5rem auto 0; /* ìƒ(1.5rem) ì¢Œìš°(auto) í•˜(0)ë¡œ ëª…ì‹œ */
  padding-right: var(--gutter);
  padding-top: var(--gutter);
  padding-bottom: var(--gutter);
  box-sizing: border-box; 
  overflow: hidden;  
  transition: max-height .36s ease, opacity .24s ease;
  will-change: max-height, opacity;
}
.app-shell.is-collapsing{
  opacity: 0;
  /* max-heightëŠ” JSì—ì„œ 0pxë¡œ ì„¤ì • */
}

/* ì ‘íŒ ìƒíƒœ(ì™„ì „íˆ ìˆ¨ê¹€ ì²˜ë¦¬) */
.app-shell.is-collapsed{
  display: none;
}
.app-shell.is-expanding{
  display: block;
  opacity: 1;
  /* max-heightëŠ” JSì—ì„œ ë‚´ìš© ë†’ì´(px)ë¡œ ì„¤ì • */
}
.app-main{
  display:grid;
  grid-template-columns: 1.857fr 1fr; /* ì•½ 65% / 35% ë¹„ìœ¨ */
  gap: var(--gutter);                  /* âœ… app-shell íŒ¨ë”©ê³¼ ë™ì¼ ê°„ê²© */
  align-items: start;
  width: 100%;
}

/* ë©”ì¸ ì»¨í…Œì´ë„ˆì— ìœ ë¦¬ íŒ¨ë„ í†¤ (ì˜¤ë¥¸ìª½ íŒ¨ë„ì€ íˆ¬ëª…) */
.app-main.container{
  background: transparent !important;
  border-radius: 1rem;
  box-shadow: none !important;
  border: none !important;
  padding: 0 !important;
}

/* === ì ‘ê¸°/í¼ì¹˜ê¸° ìƒíƒœ === */
.app-shell.collapsed{
  display: none; /* ê°„ë‹¨/ëª…í™•: ì ‘í˜ ìƒíƒœëŠ” ìˆ¨ê¹€ */
}

/* ì™¼ìª½ ì§€ë„ ì¹´ë“œ(í†¤ ìœ ì§€), ì˜¤ë¥¸ìª½ íŒ¨ë„ì€ íˆ¬ëª… ì²˜ë¦¬ */
.left-pane{
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: none !important; /* âœ… ê·¸ë¦¼ì ì œê±° */
  overflow: hidden;
  margin: 0;
}
.right-pane{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 14px 0;
  margin: 0;
}

/* ì§€ë„ ìº”ë²„ìŠ¤ */
.map-canvas{ 
  position:relative; 
  height:640px; 
  width: 100%;
  background:#0f1720; 
}
.map-placeholder{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  color:#94a3b8; font-weight:600; letter-spacing:.02em;
  border:2px dashed rgba(148,163,184,.25); margin:12px; border-radius:12px;
}

/* ========================================================================== */
/* 4) ë“œë¡­ë‹¤ìš´/ì½¤ë³´ (ORI ìŠ¤íƒ€ì¼ ìœ ì§€ + placeholder í†¤ í†µì¼)                    */
/* ========================================================================== */
.selection-summary{
  text-align:center; font-weight:700; color:#000; font-size:1.2rem;
  margin:.25rem 0 .75rem; opacity:.95;
}
.dropdown-container{ display:flex; flex-direction:column; gap:12px; }
.combo-line{ width:100%; }

.dropdown{
  display:flex; flex-direction:column; gap:1rem; width:100%;
  background: rgba(255,255,255,0.82);
  border-radius: 1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  backdrop-filter: blur(8px);
}
.dropdown-inner{ padding: 1rem 1.2rem; }
.dropdown-label{
  display:block; 
  text-align:left; 
  margin: 1.75rem 0 4px;
  font-weight:600; 
  color:#ffffff; 
  font-size:1.3rem;
  letter-spacing: 0.02em;
}

.dropdown-select,
input[type="text"],
input[type="number"]{
  width:100%; padding:.6rem 1rem; font-size:1rem;
  border:2px solid var(--control-border); border-radius: var(--control-radius);
  background: var(--control-bg); color: var(--control-fg);
}

/* placeholder ìƒ‰ í†µì¼(ì—°íšŒìƒ‰) */
.combo input::placeholder,
.dropdown-select option[disabled][selected][hidden]{ color:#94a3b8 !important; }
.dropdown-select:invalid{ color:#94a3b8; }
.dropdown-select:not(:invalid){ color:#333; }

/* ì»¤ìŠ¤í…€ ì½¤ë³´ ë¦¬ìŠ¤íŠ¸ */
.combo{ position:relative; width:100%; }
.combo input{
  width:100%; padding:.6rem 1rem; font-size:1rem;
  border:2px solid var(--control-border); border-radius: var(--control-radius);
  background: var(--control-bg); color: var(--control-fg);
}
.combo .list{
  position:absolute; top: calc(100% + 6px); left:0; width:100%;
  max-height:240px; overflow:auto; background:#fff;
  border:2px solid var(--control-border); border-radius: var(--control-radius);
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
  z-index:1000; display:none;                 /* JSê°€ focus/input ì‹œ block ì²˜ë¦¬ */
}
.combo .list .item{ padding:.55rem .8rem; cursor:pointer; }
.combo .list .item:hover{ background: rgba(31,148,97,.08); }
.combo .list .item.is-selected{ background: var(--table-header); color: var(--table-text); }

/* ì§€ë„ ì•¡ì…˜ ë²„íŠ¼(ì‘ê²Œ) */
.map-button-inline{
  background: var(--primary); color:#fff; font-weight:600; font-size:.9rem;
  padding:.2rem .6rem; border:none; border-radius:.4rem; cursor:pointer;
}
.map-button-inline:hover{ background:#16724a; }

/* ========================================================================== */
/* 5) ì¡°íšŒ ë²„íŠ¼ & ê²°ê³¼ ì„¹ì…˜                                                     */
/* ========================================================================== */
.action-row{ display:flex; justify-content:flex-end; margin:12px 0 8px; }
.action-row.center{ display:flex; justify-content:center; align-items:center; margin:2rem auto 1.5rem; }
.primary-btn{
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius:2rem;
  padding:.5rem 1.25rem;
  min-width:10rem;
  border:2px solid var(--primary);
  background:var(--primary);
  color:#fff;
  font-weight:700;
  cursor:pointer;
  transition: background .2s ease, transform .08s ease;
  text-align: center;
}
/* âœ… ê¸€ì”¨ê°€ í•­ìƒ ìˆ˜í‰ ì™„ì „ ì¤‘ì•™ì— ì˜¤ë„ë¡ ë³´ì • */
.primary-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
}

.primary-btn span.label {
  display: inline-block;
  transform: translateX(-4px); /* ì‹œê°ì  ì¤‘ì‹¬ ë³´ì •ê°’ */
}

.primary-btn.is-loading span.label {
  transform: translateX(4px); /* ìŠ¤í”¼ë„ˆê°€ ìƒê¸¸ ë•Œ ì˜¤ë¥¸ìª½ ì—¬ë°± ê· í˜• */
}
.primary-btn:hover{ background:#16724a; }
.primary-btn:active{ transform: translateY(1px); }

/* âœ… ì¡°íšŒ ë²„íŠ¼ ë¡œë”© ìŠ¤í”¼ë„ˆ (ì™¼ìª½ì— í‘œì‹œ, ë²„íŠ¼ í¬ê¸° ë¶ˆë³€) */
.primary-btn.is-loading{ cursor: progress; opacity: .96; }
.primary-btn.is-loading::before{
  content:"";
  position:absolute;
  left: 10px;
  top: 50%;
  width: 16px;
  height:16px;
  margin-top:-8px;
  border: 2px solid rgba(255,255,255,.95);
  border-top-color: transparent;       /* íšŒì „ ê³µë°± ë¶€ë¶„ */
  border-radius: 50%;
  animation: spin .8s linear infinite;
  pointer-events: none;
}

/* ê²°ê³¼ ì„¹ì…˜ (í‘œ) */
.result-section{ display:none; padding:0 1rem 2rem; }
.result-section.show{ display:block; }
.result-container{
  background: transparent !important;
  backdrop-filter: none !important;
}
.table-wrap{ width:100%; overflow:auto; border-radius:inherit; }
.result-table{
  width:100%; border-collapse:separate; border-spacing:0; table-layout:fixed;
  background:#fff; color:#111; border:none; border-radius: var(--control-radius); overflow:hidden; margin-top:8px;
}
.result-table th, .result-table td{
  border:1px solid #F5F5F5; padding:.6rem .75rem; text-align:left; vertical-align:top;
}
.result-table thead th{ background:#153A47; color:#F5F5F5; font-weight:700; }
.result-table tbody td:first-child{ background:#153A47; color:#F5F5F5; font-weight:700; text-align:center; }
.result-table thead th:first-child{ text-align:center; }
.result-table td.amt{ white-space:nowrap; text-align:center; font-variant-numeric: tabular-nums; }
/* í­ íŠœë‹: [í•­ëª© | ê¸ˆì•¡ | ë¹„ê³ ] */
.result-table thead th:nth-child(1),
.result-table tbody td:nth-child(1){ width:20%; }
.result-table thead th:nth-child(2),
.result-table tbody td:nth-child(2){ width:10%; }
.result-table thead th:nth-child(3),
.result-table tbody td:nth-child(3){ width:auto; }

/* 2ì—´ í—¤ë”(ì§€ì—­ ë˜ëŠ” íƒ€ì…)ë„ ê°€ìš´ë° ì •ë ¬ */
.result-table thead th:nth-child(2){ text-align: center; }

/* íƒ€ì… í—¤ë”(th)ëŠ” class="type-col"ë¡œ ë“¤ì–´ì˜¤ë¯€ë¡œ í™•ì‹¤íˆ ê°€ìš´ë° */
.result-table thead th.type-col{ text-align: center; }

/* ========================================================================== */
/* 5-1) ìš”ì•½ ë°” ë¶€ë¶„                                                           */
/* ========================================================================== */
.collapsed-summary{
  position: sticky; 
  top: var(--header-h);
  z-index: 10;
  display: flex;              /* ì¤‘ì•™ ë°°ì¹˜ */
  justify-content: center;    /* ê°€ë¡œ ì¤‘ì•™ */
  background: transparent;
  border-bottom: 1px solid rgba(255,255,255,0.12);
  padding: .75rem 0 .5rem;
  border: 0;
}
.collapsed-summary .container{
  display: flex;
  flex-direction: column;
  align-items: center;        /* ì„¸ë¡œì¶•ë„ ì¤‘ì•™ */
  gap: .35rem;
  padding: .5rem .75rem;
  background: #0e1a2b;        /* ê¸°ì¡´ í†¤ ìœ ì§€(ì›í•˜ë©´ ì¡°ì •) */
  border: 1px solid rgba(255,255,255,.14);
  border-radius: var(--btn-radius);
  /* ë‚´ìš© í¬ê¸° ê¸°ì¤€(ë„ˆë¬´ ê¸¸ì–´ì§€ëŠ” ê±¸ ë§‰ê³  ì‹¶ìœ¼ë©´ max-widthë§Œ ì§€ì •) */
  width: max-content;
  max-width: min(92vw, 75rem);
}

.collapsed-summary .chips{ 
  display:flex; 
  flex-wrap:wrap; 
  gap:.5rem; 
  align-items:center; 
  justify-content:center;
}

.collapsed-summary .chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.35rem .6rem; border-radius:.75rem; cursor:pointer;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  color:#e6edf5; font-weight:700; font-size:.95rem;
}
.collapsed-summary .chip .k{ opacity:.75; font-weight:600; }
.collapsed-summary .chip .v{ opacity:1; }
.collapsed-summary .chip:hover{ background: rgba(255,255,255,.12); }
.collapsed-summary .hint{
  color:#a0b3ca; font-size:.85rem; opacity:.9;
}

.app-shell.collapsing{
  animation: shell-slide-up .28s ease forwards;
}
.app-shell.expanding{
  animation: shell-slide-down .32s ease forwards;
}
/* ê²°ê³¼ ì„¹ì…˜ì´ app-shell ë°”ê¹¥ì´ë¯€ë¡œ ìƒë‹¨/í•˜ë‹¨ ì—¬ë°± ë³´ì • */
.result-section{ padding: .5rem 0 2rem; }

/* hidden ì†ì„±ì´ ë¶™ì–´ ìˆì„ ë• ì–´ë–¤ ê·œì¹™ë³´ë‹¤ ìš°ì„ í•´ì„œ ì™„ì „íˆ ìˆ¨ê¹€ */
#collapsedSummary[hidden]{
  display: none !important;
  visibility: hidden !important;
  height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  border: 0 !important;
}
.collapsed-summary.reveal{
  animation: sum-slide-down .28s ease both;
}

#collapsedPanel { display:block; }

/* í˜¹ì‹œ .collapsed-summary .container ê°€ flex-row ë¼ë©´ ì„¸ë¡œë¡œ ê°•ì œ */
#collapsedPanel .collapsed-summary .container{
  display:flex;
  flex-direction:column;
  gap:12px;  /* ìš”ì•½ ì•„ë˜ ì—¬ë°± */
}

/* ê²°ê³¼ ì„¹ì…˜ì€ ì „ì²´ ë„ˆë¹„ë¡œ ì¤„ì„¸ìš°ê¸° */
#collapsedPanel .result-section{ 
  display:block; 
  width:100%; 
  margin-top:12px; 
}

/* ========================================================================== */
/* 6) ë…¸ì…˜ ë¡œë“œì¤‘ í‘œì‹œ                                                          */
/* ğŸ”„ ì½¤ë³´ ë¡œë”© ìƒíƒœ í‘œì‹œ                                                       */
/* ğŸ”„ ê³µí†µ: ì½¤ë³´ ë¡œë”© ìƒíƒœ í‘œì‹œ (ì™¼ìª½)                                            */                                         
/* ========================================================================== */

.combo {
  position: relative;
}
.combo.is-loading input {
  padding-left: 36px; /* â† ì™¼ìª½ì— ìŠ¤í”¼ë„ˆ ìë¦¬ í™•ë³´ */
}
.combo.is-loading::after {
  content: "";
  position: absolute;
  left: 10px;            /* â† ì™¼ìª½ ë°°ì¹˜ */
  top: 50%;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 50%;
  opacity: .85;
  animation: spin 0.8s linear infinite;
  pointer-events: none;
}

/* ğŸ”½ ê¸°ë³¸ <select>ì— ë¡œë”© í‘œì‹œ(ì„ íƒ ì‚¬í•­)
   setSelectLoading('cbmSelect', true/false) ë¡œ í† ê¸€
*/
.dropdown-select.is-loading {
  position: relative;    /* ìì²´ ê¸°ì¤€ì  */
  background-image: none !important;
  padding-left: 36px;    /* â† ì™¼ìª½ì— ìŠ¤í”¼ë„ˆ ìë¦¬ í™•ë³´ */
}
.dropdown-select.is-loading + .select-spinner {
  position: absolute;
  left: 10px;            /* â† ì™¼ìª½ ë°°ì¹˜ */
  top: 50%;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  pointer-events: none;
}

/* íšŒì „ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes spin {
  to { transform: rotate(360deg); }
}



/* ========================================================================== */
/* ë°˜ì‘í˜•                                                                   */
/* ========================================================================== */
@media (max-width: 1024px){
  .app-main{ grid-template-columns: 1fr; }
  .map-canvas{ height:360px; }
}



