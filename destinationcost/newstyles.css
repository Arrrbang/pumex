/* ==========================================================================
   새 레이아웃: styles (18).css — index.html / main.css 톤으로 통일
   디자인 우선(기능 동일), 모든 컨테이너 항상 표시
   ========================================================================== */

/* ===== 토큰/베이스( main.css 에 맞춤 ) ===== */
:root{
  --bg: #0b0f14;
  --fg: #eef2f7;
  --muted: #cbd5e1;

  --primary: #1F9461;
  --border: rgba(255,255,255,0.18);
  --surface: rgba(255,255,255,0.06);

  --control-bg: #fff;
  --control-fg: #333;
  --control-border: #1F9461;
  --control-radius: .6rem;

  --header-h: 3.5rem;
  --container-max: 1200px;
  --gutter: 1.5rem;

  --table-header: #D1FAE5;
  --table-text:   #14532D;
}

*{ box-sizing: border-box; }
html{ font-size: clamp(14px, 1.2vw, 16px); }
body{
  margin:0; color:var(--fg); background:var(--bg); line-height:1.5;
  font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", sans-serif;
}

/* 배경 이미지 (main.css 동일 톤) */
.page-bg{ position:fixed; inset:0;
  background-image:url("https://arrrbang.github.io/pumex/image/costbackground.jpg");
  background-size:cover; background-position:center;
  filter:saturate(1) brightness(.9); z-index:-2;
}
.page-bg::after{ content:""; position:absolute; inset:0; background:rgba(255,255,255,0.4); z-index:-1; }

/* 헤더 */
.site-header{ position:sticky; top:0; background:rgba(0,0,0,0.7); border-bottom:1px solid var(--border); z-index:10; }
.container{ max-width:var(--container-max); margin-inline:auto; padding-inline:var(--gutter); }
.section{ padding-block: clamp(1.25rem, 3vw, 2rem); }
.header-inner{
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; column-gap:.75rem;
  min-height:var(--header-h);
}
.brand{ display:inline-flex; align-items:center; }
.brand__logo{ height:calc(var(--header-h)*0.65); width:auto; display:block; object-fit:contain; padding-left:.75rem; margin-right:.75rem; }
.header__title{ color:#fff; text-decoration:none; font-weight:700; letter-spacing:.02em; font-size:clamp(1rem,1.8vw,1.25rem); }

/* ===== 2-컬럼 레이아웃 ===== */
.layout{
  display:grid;
  grid-template-columns: minmax(360px, 1.35fr) minmax(360px, 1fr);
  gap: clamp(1rem, 2.5vw, 2rem);
}
@media (max-width: 1024px){
  .layout{ grid-template-columns: 1fr; }
}

/* LEFT: 지도 패널 */
.map-panel{ position:relative; }
.map-card{
  position:sticky; top: calc(var(--header-h) + 14px);
  background: rgba(255,255,255,0.75);
  border-radius: 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
  backdrop-filter: blur(8px);
  overflow: hidden;
}
.map-card__head{
  display:flex; justify-content:space-between; align-items:center;
  padding: .75rem 1rem; border-bottom:1px solid rgba(0,0,0,.08); color:#000;
}
.map-canvas{
  height: 520px; background:#e8efe9;
  border-top:1px solid rgba(0,0,0,.04);
  border-bottom:1px solid rgba(0,0,0,.04);
}
.map-note{ padding:.6rem 1rem; font-size:.9rem; color:#2e2e2e; background:#f8fafc; }

/* RIGHT: 컨트롤 */
.controls-panel{ display:flex; flex-direction:column; gap: 1rem; }

/* 선택 요약 */
.selection-summary{
  text-align:center; font-weight:700; color:#000; font-size:1.1rem;
  margin-top:.25rem; margin-bottom:.5rem;
}

/* 드롭다운 컨테이너(항상 열림) */
.dropdown-container{ display:block; }
.dropdown{
  background: rgba(255,255,255,0.75);
  border-radius: 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
  backdrop-filter: blur(8px);
}
.dropdown.always-open{ opacity:1; transform:none; max-height:none; }
.dropdown-inner{ padding: 1rem 1.2rem; }

.dropdown-label, .dropdown-label-row .label-text{
  display:block; text-align:left; margin: 0 0 8px; font-weight:600; color:#000; font-size:1rem;
}
.dropdown-label-row{
  display:flex; justify-content:space-between; align-items:center; margin-bottom:.25rem;
}

.map-button-inline{
  background: var(--primary); color:#fff; font-weight:600; font-size:.9rem;
  padding:.25rem .6rem; border:none; border-radius:.4rem; cursor:pointer;
}
.map-button-inline:hover{ filter:brightness(.92); }

/* 폼 컨트롤 */
.dropdown-select,
input[type="text"],
input[type="number"]{
  width:100%; padding:.6rem 1rem; font-size:1rem;
  border:2px solid var(--control-border); border-radius:var(--control-radius);
  background:var(--control-bg); color:var(--control-fg);
  outline:none; transition:border-color .15s, box-shadow .15s; font-family:inherit;
  margin-bottom: 14px;
}
.dropdown-select:focus,
input[type="text"]:focus,
input[type="number"]:focus{ border-color:var(--primary); box-shadow:0 0 0 2px rgba(20,83,45,.12); }
input::placeholder{ color:var(--muted); }

/* 콤보 리스트 */
.combo{ position:relative; width:100%; }
.combo .list{
  position:absolute; top: calc(100% + 6px); left:0; width:100%; max-height:240px; overflow:auto;
  background: var(--control-bg);
  border: 2px solid var(--control-border);
  border-radius: var(--control-radius);
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
  z-index: 1000; display:none;
}
.combo.open .list{ display:block; }
.combo .list .item{ padding:.55rem .8rem; cursor:pointer; line-height:1.4; color:var(--control-fg); background:var(--control-bg); font-size:1rem; }
.combo .list .item:hover{ background: rgba(31,148,97,.08); }
.combo .list .item.is-selected{ background: var(--table-header); color: var(--table-text); }

/* 조회 버튼/결과 */
.action-row.center{ display:flex; justify-content:center; align-items:center; margin: 1rem 0 0.5rem; }
.primary-btn{
  border-radius: 2rem; padding:.55rem 1.35rem; min-width:10rem;
  border:2px solid var(--primary); background:var(--primary); color:#fff; font-weight:700;
}
.primary-btn:hover{ filter:brightness(.92); }

/* 결과 표 최소 스타일 (main.css 일부 톤 차용) */
.table-wrap{ width:100%; overflow:auto; border-radius: .6rem; }
.result-table{
  width:100%; border-collapse:separate; border-spacing:0; margin-top:8px;
  background: var(--control-bg); color:var(--control-fg); border:none; border-radius:.6rem; overflow:hidden; table-layout: fixed;
}
.result-table th, .result-table td{
  border:1px solid #F5F5F5; padding:.6rem .75rem; text-align:left; vertical-align:top;
}
.result-table thead th{ background:#153A47; color:#F5F5F5; font-weight:700; }
.result-table tbody td:first-child{ background:#153A47; color:#F5F5F5; font-weight:700; text-align:center; }
.result-table thead th:first-child{ text-align:center; }
.result-table td.amt{ white-space:nowrap; text-align:center; font-variant-numeric:tabular-nums; }
